---
apiVersion: hive.openshift.io/v1
kind: ClusterDeployment
metadata:
  name: cluster-placeholder
  namespace: cluster-placeholder
  annotations:
    argocd.argoproj.io/sync-wave: "0"
  labels:
    vendor: OpenShift
    cloud: AWS
spec:
  baseDomain: example.com  # Will be overridden by overlay
  clusterName: cluster-placeholder

  # Platform configuration for AWS
  platform:
    aws:
      credentialsSecretRef:
        name: aws-credentials
      region: us-east-1  # Will be overridden by overlay

  # Provisioning configuration
  provisioning:
    installConfigSecretRef:
      name: cluster-placeholder-install-config

    sshPrivateKeySecretRef:
      name: cluster-placeholder-ssh-key

    imageSetRef:
      name: img4.20.10-x86-64-appsub  # Will be overridden by overlay

    # Install strategy
    manifestsConfigMapRef:
      name: cluster-placeholder-manifests

  # Pull secret for accessing Red Hat registries
  pullSecretRef:
    name: pull-secret

  # Preserve cluster on delete - set to false so clusters are cleaned up when deleted from Git
  preserveOnDelete: false

  # Power state
  powerState: Running

  # Hibernation configuration (optional - for cost savings)
  # hibernateAfter: 8h
